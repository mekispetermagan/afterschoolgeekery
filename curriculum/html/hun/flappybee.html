<!-- This file is meant to be loaded in "curriculum.html". -->

<div class="section">
  <div class="section-title topicTitle"> Flappy Bee játék </div>

  <div class="celltitle"> Miről lesz szó? </div>
  <div class="cell">
    <p>
      Ez egy legendás mobiljáték, a "Flappy Bird" egyszerűsített Scratches változata. Bár a játékélmény más, kódjában ez a játék nagyon hasonlít a tananyag más játék-projektjeire. Ezzel alkalmat ad arra, hogy egyes kódolási technikákat más és más kontextusban gyakoroljanak a gyerekek, anélkül, hogy rájuk unnának. A végeredmény:<br>
      <iframe src="https://scratch.mit.edu/projects/1004205578/embed" allowtransparency="true" width="485" height="402" frameborder="0" scrolling="no" allowfullscreen></iframe>
    </p>
    <p>
      A projektleírásban fel fogjuk tételezni, hogy a csoportnak már ismerős a klónozás, ezért ezt a részt rövidre fogjuk (kevés szóval, sok képpel). De használhatod a projektet arra is, hogy bevezesd a klónozást (sokkal egyszerűbb, mint például az "Űrjáték" projekt). Ha így döntesz, akkor a technikai részletekben támaszkodj a Klónozás tananyagra, a tanításban pedig a "Virágeső" miniprojektre.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> Előkészületek </div>
  <div class="cell">
    <p>
      Használjátok <a href="https://scratch.mit.edu/projects/1012180324/">ezt a kiinduló projektet</a> az elinduláshoz.Ebben benne van az összes szereplő a jelmezeivel együtt, és a kódnak is körülbelül a fele. A projektmunka a meglevő kód kiegészítése lesz:<br>
      <img class="figure" width="50%" src="curriculum/img/hun/flappybee/01.png" alt="figure">
    </p>
    <p>
      Miután megmutattad a kész projektet a gyerekeknek, nyissátok meg és remixeljétek a kiinduló változatot. Indítsátok el, hogy lássátok, mi működik már a játékban és mi nem. Beszéljétek meg, pontosan milyen elemek hiányoznak, és állítsatok össze egy listát a rátok váró kódolási feladatokból. Az eredmény valami ilyesmi lesz:
      <ul>
        <li>a méhecske süllyed</li>
        <li>a méhecske emelkedik</li>
        <li>jönnek az akadályok</li>
        <li>sok akadály egyszerre, klónokkal</li>
        <li>játék vége, ha a méhecske hozzáér egy akadályhoz vagy a színpad széléhez</li>
        <li>a méhecske lepottyan a játék végén</li>
        <li>pontszámlálás</li>
        <li>pontkijelzés</li>
        <li>nyerés egy adott ponthatárnál</li>
        <li>a méhecske gyorsul, miközben süllyed</li>
        <li>az akadályok tátognak</li>
      </ul>
      Ne csinálj belőle problémát, ha néhány elem hiányzik a listátokból, vagy valami fölösleges is rákerül. Később, a projektmunka során is igazíthattok majd rajta, amikor kiderül, hogy valami nem stimmelt benne. És nyugodtan vegyetek fel olyan elemeket is, amelyek nem voltak benne a bemutatott eredeti játékban.
    </p>
    <p>
      Most beszéljétek meg, mi mennyire fontos. A pontszám kijelzése és a méhecske lepottyanása már benne van a kódban, ezekkel nem kell dolgoznotok. Valószínűleg arra fogtok jutni, hogy a méhecske süllyedése és emelkedése, a szembe jövő akadályok és a játék vége lesz az, amit elengedhetetlennek találtok a játszhatósághoz. Minden más csak jó, ha van: a klónozás, a pontszámlálás és a nyerés. Ha a gyerekek extrákat igényelnek (szintek, ufótámadás, <i>boss fight</i>), azokat is tehetitek az "elengedhető" csoportba. Valami ilyesmi lesz az eredmény:
      <ul>
        <li>
          kell:
          <ul>
            <li>a méhecske süllyed</li>
            <li>a méhecske emelkedik</li>
            <li>jönnek az akadályok</li>
            <li>játék vége</li>
          </ul>
        </li>
        <li>
          jó, ha van:
          <ul>
            <li>akadályok klónozása</li>
            <li>pontozás</li>
            <li>nyerés</li>
            <li>a méhecske gyorsul</li>
            <li>akadályok tátogása</li>
          </ul>
        </li>
        <li>
          kész:
          <ul>
            <li>pontkijelzés</li>
            <li>lepottyanás</li>
          </ul>
        </li>
      </ul>
      Még egyszer: a listának nem kell pont így kinéznie. Csak az számít, hogy legyen egy világos elképzelésetek a foglalkozáson elvégzendő feladatokról.
    </p>
    <p>
      Az feladatok sorrendje is változhat. Ne ragaszkodj az itt a tananyagban követett sorrendhez.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 1: süllyed a méhecske </div>
  <div class="cell">
    <p>
      Ez csak bemelegítés. Gyorsan tisztázzátok, hogy melyik koordináta tartozik a függőleges, fel-le irányhoz (a színpad alatti x és y melletti nyilak segítenek), és hogy pozitív vagy negatív a változás, ha egy szereplő lefele mozdul. Amint ezeket tisztáztátok és kiválasztottátok az "y változzon" blokkot, már kész is a kód: <br>
      <img class="figure" width="25%" src="curriculum/img/hun/flappybee/02.png" alt="figure">
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 2. lépés: emelkedik a méhecske </div>
  <div class="cell">
    <p>
      A méhecske billentyűnyomásra emelkedik. Kétféleképpen lehet Scratch-ben billentyűnyomást figyelni: egy sárga esemény blokkal vagy egy világoskék érzékelés blokkal. Mivel nálunk az eseményblokk helye már foglalt (a kód végrehajtása a Start üzenet érkezésekor kezdődik), az érzékelés-blokk a kézenfekvőbb. Ezt illeszthetitek a "várj" eddig hatszögletű mezőjébe. Mindenki iválaszthatja a kedvenc billentyűjét, vagy dönthettek a "bármelyik" opció mellett is. Itt is jó ötlet "y változzon" blokkot használni. Hogy a mozgást lassabbra vagy gyorsabbra tudjátok állítani, és hogy kisebbet vagy nagyobbat tudjon emelkedni a méhecske, rakjatok köré egy "ismételd" blokkot, és kísérletezzetek azzal, hogy milyen számokat írtok a két blokkba:<br>
      <img class="figure" width="35%" src="curriculum/img/hun/flappybee/03.png" alt="figure">
      <img class="figure" width="35%" src="curriculum/img/hun/flappybee/04.png" alt="figure">
      <img class="figure" width="35%" src="curriculum/img/hun/flappybee/05.png" alt="figure">
      <img class="figure" width="35%" src="curriculum/img/hun/flappybee/06.png" alt="figure"><br>
      -- és így tovább, a lehetőségek korlátlanok. De ne aggódjátok túl ezt a beállítgatást, ráértek finomhangolni a dolgokat, amikor már kész a projekt.
    </p>
    <p>
      Még egy dologra érdemes most sort keríteni: emelkedéskor csapkodjon a szárnyával a méhecske. (Ezért az a neve, hogy "flappy".) Használhatjátok a "következő jelmez" blokkot: <br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/07.png" alt="figure"><br>
      Akartok tökéletességre törekedni? Akkor az emelkedés kódjának végére tegyetek még egy "jelmez legyen" blokkot is, hogy mindig ugyanazzal a jelmezzel fejezze be az emelkedést a méhecske: <br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/08.png" alt="figure"><br>
      </p>
  </div> <!-- cell -->


  <div class="celltitle"> 3. lépés: jönnek az akadályok </div>
  <div class="cell">
    <p>
      Váltsatok az akadály szereplőre. Szokás szerint most is egy példányt érdemes elsőre megmozgatni, aztán ha eljuttok odáig, akkor jöhet a klónozás is. Ha a gyerekek kicsik még ahhoz, hogy koordinátákban gondolkodjanak, vagy ellenállást mutatnak ezzel szemben, használjátok a "tedd oda és vedd ki" módszert, ahogy a Mozgatás tananyagban vagy a "Virágeső" projektben láttátok.
    </p>
    <p>
      De ha a gyerekeknek jól megy a koordinátázás, akkor váltsatok egy rövid időre az "x-y grid" háttérre, és frissítsétek fel az emlékezeteteket azzal kapcsolatban, hogy mik az x és y koordináták a színpad szélein. (A háttér előre be van készítve a projektbe, hogy ezzel se menjen el idő.) <br>
      <img class="figure" width="60%" src="curriculum/img/hun/flappybee/09.png" alt="figure"><br>
    </p>
    <p>
      A csúszás kódja szinte triviális (csak a csúszás idejét állítsa be mindenki az ízlése szerint, hogy se túl nehéz, se túl könnyű ne legyen a játék): <br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/10.png" alt="figure"><br>
    </p>
    <p>
      Indítsátok újra a projektet, és nézzétek meg, át tudtok-e manőverezni a méhecskével az akadályok között.
    </p>
    <p>
      Az akadály függőleges helyzetének beállításához (gyereknyelven: hogy fentebb legyen vagy lentebb) használhatnátok "véletlen" blokkot, de hogy elkerüljétek a későbbi nehézségeket, bekészítettünk egy daját blokkot a projektbe, ami ezt a feladatot elvégzi. Ez bevett eljárás. Ha egy kódrészlet megírása túl bonyolult vagy túl időigényes, akkor érdemes előre megírni, és rózsaszín saját blokkokba bekészítve felhasználni a megfelelő helyen a projektmunka során, mintha csak a Scratch hirtelen növesztett volna egy vagány új blokkot.
    </p>
    <p>
      Használjátok ezt a saját blokkot az akadály két csúszása között. Ne felejtsetek el "y hely" blokkokat tenni a kódba, hogy az akadály tényleg olyan magasan csússzon, ahova a saját blokk tette.<br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/11.png" alt="figure"><br>
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 4. lépés: érintésfigyelés és játék vége </div>
  <div class="cell">
    <p>
      Majdnem kész vagyok! Még ezt a kis lépést kell megtennetek, hogy sikerrel zárhassátok a projektmunkát. Váltsatok vissza a méhecske szereplőre. A játék végéhez tartozó kód már majdnem készen van, csak az érintésfigyelő blokkot kell beletenni. De két jelöltünk is van; a játék akkor ér végetm ha a méhecske <i>vagy</i> egy akadályhoz, <i>vagy</i> a színpad széléhez hozzáér. Hogy fér el két érzékelés-blokk egy helyen?<br>
      <img class="figure" width="50%" src="curriculum/img/hun/flappybee/16.png" alt="figure"><br>
      Ha a gyerekek szembesültek már ezzel a problémával, akkor lehet, hogy maguktól is tudni fogják, mit kell tenni. Ha nem ez a helyzet, akkor ismételd meg nyomatékosan, hogy <i>vagy</i> ehhez, <i>vagy</i> ahhoz ér hozzá a méhecske, és versenyezzetek, ki találja meg először a "vagy" blokkot. Amint megtaláltátok, minden a helyére kerül:<br>
      <img class="figure" width="70%" src="curriculum/img/hun/flappybee/17.png" alt="figure"><br>
    </p>
    <p>
      A kód tökéletesen működik, bár minden lépés ilyen könnyű lenne a projektmunkában!:) Ha eljutottatok eddig, sikerrel lezárhatjátok a projektmunkát. Minden további lépés "jó ha van", ahogy fentebb fogalmaztunk.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 5. lépés: az akadályok klónozása </div>
  <div class="cell">
    <p>
      Ha még tart az időtökből és energiátokból, akkor nagyot javíthattok a játékélményen a klónozás bevezetésével. Mint mindig, ez a kód újrarendezésével jár. Válasszátok ki, melyik blokkok fogják a klónokat mozgatni, és azokat tegyétek félre: <br>
      <img class="figure" width="70%" src="curriculum/img/hun/flappybee/12.png" alt="figure"><br>
      Ezek a blokkok határozzák meg, mit csinál egy klón a maga kis élete során. A kód ott kezdődik, ahol a klón létrejön ("másolatként kezdéskor"), és ott végződik, ahol megsemmisül ("töröld ezt a másolatot"): <br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/13.png" alt="figure"><br>
    </p>
    <p>
      A másik oldalon a "mindig" ciklus fogja nekünk gyártani a klónokat: <br>
      <img class="figure" width="30%" src="curriculum/img/hun/flappybee/14.png" alt="figure"><br>
      Hogy ne zúduljon az összes klón egyszerre a játékosra, érdemes betenni egy "várj" blokkot a kódba. Hogy pontosan mennyi idő teljen el két akadály elindulása között, azt ki-ki magának állítsa be aszerint, hogy mennyire akar nehéz játékot magának: <br>
      <img class="figure" width="30%" src="curriculum/img/hun/flappybee/15.png" alt="figure"><br>
    </p>
    <p>
      Indítsátok újra a projektet, és ellenőrizzétek, hogy rendben érkeznek-e az akadályok.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 6. lépés: pontozás </div>
  <div class="cell">
    <p>
      Beszéljétek meg a gyerekekkel, mit jutalmazzon ponttal a játék. Az egyik kézenfekvő lehetőség az, hogy minden sikerrel átvitt akadályért pont jár. Ha így döntötök, akkor érdemesegy "score változzon" blokkot tenni a klónok kódjának végére.<br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/18.png" alt="figure"><br>
      De dönthettek úgy is, hogy akkor kap pontot a játékos, ha emelkedik a méhecske: <br>
      <img class="figure" width="35%" src="curriculum/img/hun/flappybee/19.png" alt="figure"><br>
      Vagy össze is kombinálhatjátok ezt a két lehetőséget. Vagy dönthettek egy harmadik mellett is. Az a lényeg, hogy a gyerekek kódtoljanak bele egy kicsit a projektmunka során a játéktervezésbe. Ahogy haladnak előre a gyerekek e programozás tanulásában, egyre inkább készen lesznek arra, hogy a saját projektjeiket tervezzék meg és kódolják le. Bármilyen távolinak is tűnik ez a cél egy kezdő kurzuson, ez az, ami fele haladtok.
    </p>
    <p>
      Indítsátok újra a projektet, és teszteljétek le, hogy az elképzeléseitek szerint működik-e a pontozás. Látni fogjátok, hogy a pontkijelzés magától elindul.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 7. lépés: nyerés </div>
  <div class="cell">
    <p>
      A játék megnyerésének kódja az akadály szereplőhöz van bekészítve. Abban hasonlít a vesztés kódjához, hogy csak a nyerés feltételét kell kitalálni és a kódba illeszteni. A színpad alján 30 kis akadálynak van hely a pontkijelzésben, tehát dönthettek mondjuk úgy, hogy 30 pont elérésekor ér véget a játék. A feladat így már világos, csak azt kell kitalálni, hogy fogalmazhatjátok át a Scratch blokkok nyelvére. Mit is jelent az, hogy a pont "eléri" a 30-at? A játék mindaddig folytatódk, amíg a pontszám kisebb 30-nál, és véget ér, mielőtt 30 fölé emelkedne. Tehát a játék megnyerésének pllanatában a pontszám se nem több, se nem kevesebb, mint 30. Bárcsak lenne egy szó, ami pont ezt fejezi ki... Egyenlő, ez az! Ki találja meg előbb az "egyenlő" blokkot? A közös gondolkodás után egy perc alatt kész a kód, és ismét egy lépéssel előrébb vagyto a játékfejlesztésben.<br>
      <img class="figure" width="30%" src="curriculum/img/hun/flappybee/20.png" alt="figure"><br>
    </p>
    <p>
      Ez a művészet a tanításban: feltenni a megfelelő kérdéseket és segíteni a gyerekeket abban, hogy maguk fedezzék fel az ismereteket. A felfedeztetés ezerszer többet ér, mint a frontális tanítás.
    </p>
  </div> <!-- cell -->

  <div class="celltitle"> 8. lépés: az akadályok jelmezváltása </div>
  <div class="cell">
    <p>
      Apróság ugyan, de sokat ad a játékélményhez, ha az akadályok a két jelmezüket váltogatva tátognak csúszás közben. Ez is a klónok dolga, de érdemes hozzá új kódot kezdeni. A jelmezváltásos animácóban már nagy gyakorlatotok van (a méhecske szárnycsapkodása is ilyen volt), úgyhogy ez a lépés nagyon könnyű lesz: <br>
      <img class="figure" width="25%" src="curriculum/img/hun/flappybee/21.png" alt="figure">
    </p>
  </div> <!-- cell -->


  <div class="celltitle"> 9. lépés: a méhecske gyorsul süllyedés közben </div>
  <div class="cell">
    <p>
      Elértetek az utolsó és legnehezebb lépéshez a játékfejlesztésben. Tapasztalatunk szerint a gyorsuló mozgáás animálása 12-13 éves kor alatt még túl nehéz a gyerekeknek. Ebbe a lépésbe tehát csak akkor kezdjetek bele, ha a gyerekek átlagéletkora legalább 12 év a csoportban.
    </p>
    <p>
      Váltsatok vissza a méhecske szereplőre, és keressétek meg a süllyedés kódját: <br>
      <img class="figure" width="25%" src="curriculum/img/hun/flappybee/22.png" alt="figure"><br>
      Ezen fogunk egy kicsit finomítani.
    </p>
    <p>
      Mi változik akkor, amikor az autó gyorsul? Hát persze, a sebessége. Hm, szóval a sebesség egy olyan szám, ami folyton változik... Bárcsak lenne egy olyan eszköz a programozásban, ami az ilyen folyton változó adatokat kezelhetővé teszi, mint például egy játékban a pontszám... Hát persze, hogy van ilyen eszköz, pont ezt csinálja egy változó. Ha megnézitek a változó-blokkokat, láthatjátok, hogy már be is van készítve a projektbe egy "speed" (sebesség) nevű változó. Ezt fogjuk használni. A játék elején a sebesség nulla; így működik az esés (vagy felnőtt szóval: a gravitáció). <br>
      <img class="figure" width="25%" src="curriculum/img/hun/flappybee/23.png" alt="figure"><br>
    </p>
    <p>
      Most jön az a rész, ami kicsit nehezebb a szokásosnál. Miben márjük a sebességet? Kilométer per órában, vagyis abban, hogy mennyit tesz meg az autó egy időegység alatt. Ezt kellene átfogalmazni Scratch-re. Mivel a szereplőnk esik, a "mennyit tesz meg" azt jelenti, hogy mennyivel változik az y koordinátája. Tehát az "y változzon" blokkba a sebesség kerül, bármennyi is legyen az éppen. A kerekded változó-blokk belekerül a kék mozgás-blokkba: <br>
      <img class="figure" width="25%" src="curriculum/img/hun/flappybee/24.png" alt="figure"><br>
      Látjátok, milyen szépen megtalálja minden elem a helyét? Így ölt formát a közös gondolkodás során a programkód.
    </p>
    <p>
      A projekt újraindításakor most azt látjátok, hogy a méhecske egyáltalán nem süllyed. Ez érthető, hiszen nullára állítottátok a sebességét.
    </p>
    <p>
      Nosza növeljük azt a sebességet minden alkalommal, amikor y megváltozik. Ne feledjétek, hogy a méhecske lefele esik, tehát a sebesség is negatív: <br>
      <img class="figure" width="30%" src="curriculum/img/hun/flappybee/25.png" alt="figure"><br>
    </p>
    <p>
      Indítsátok újra a projektet, hogy lássátok az eredményt. Most meg túl gyorsan esik a méhecske. A nulla túl kicsi gyorsulásnak, az egy túl nagy. Kísérletezzetek a 0 és 1 közötti titedestörtekkel, hogy megtaláljátok a gyorsulás ideáls mértékét. (Ez azon is múlik, hogy máshol milyen számok mellett döntöttek a gyerekek, tehát a végeredmény itt is mindenkinél más lesz.) <br>
      <img class="figure" width="30%" src="curriculum/img/hun/flappybee/26.png" alt="figure"><br>
    </p>
    <p>
      Valami még mindig nem stimmel; az egyre gyorsuló esést nem lehet leküzdeni a madár emelkedésével. Amikor a madár emelkedik, a sebességét le kellene nullázni. Meg tudjátok találni az emelkedés kódját, gyerekek? <br>
      <img class="figure" width="40%" src="curriculum/img/hun/flappybee/27.png" alt="figure"><br>
    </p>
    <p>
      És kész! Most már pont úgy viselkedik a méhecske, ahogy kell. Teszteljétek a játékot, és ha kell, állítsátok be újra a különféle számokat, hogy minden flottul menjen: azt, hogy mennyit emelkedik a madár, milyen sűrűn jönnek az akadályok, milyen gyorsan jönnek az akadályok, és így tovább.
    </p>
    <p>
      Végére értetek egy nagy projektnek. Szép munka, legyetek büszkék!
    </p>
  </div> <!-- cell -->


</div> <!-- section -->
